{
    "collab_server" : "",
    "contents" : "\n\nipm<-function(index_id,variables,args=NA){\n     smsh<-odbcConnect('smsh','nretail','nretail')\n     varos<-paste0(variables,collapse = \", \")\n     per<-ult.periodo(index_id)\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_market WHERE status_id IN (2) AND index_id = \",index_id, \" AND period_id = \",per,\" AND \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_market wHERE status_id IN (2) AND index_id = \",index_id, \" AND period_id = \",per)\n     }\n     out<-sqlQuery(smsh,linea)\n     close(smsh)\n     out\n}\n\nipm_cur<-function(index_id,variables,args=NA){\n     sms<-odbcConnect('sms','nretail','nretail')\n     varos<-paste0(variables,collapse = \", \")\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_market WHERE status_id IN (2) AND index_id = \",index_id,\" AND \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_market wHERE status_id IN (2) AND index_id = \",index_id)\n     }\n     out<-sqlQuery(sms,linea)\n     close(sms)\n     out\n}\n\nipm_raw<-function(index_id,variables,args=NA){\n     smsh<-odbcConnect('smsh','nretail','nretail')\n     varos<-paste0(variables,collapse = \", \")\n     #per<-ult.periodo(index_id)\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_market WHERE status_id IN (2) AND index_id = \",index_id, \" AND \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_market wHERE status_id IN (2) AND index_id = \",index_id)\n     }\n     out<-sqlQuery(smsh,linea)\n     close(smsh)\n     out\n}\n\nipc_cur<-function(index_id,variables,args=NA){\n     sms<-odbcConnect('sms','nretail','nretail')\n     varos<-paste0(variables,collapse = \", \")\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_cell WHERE status_id IN (2) AND index_id = \",index_id,\" AND \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_cell wHERE status_id IN (2) AND index_id = \",index_id)\n     }\n     out<-sqlQuery(sms,linea)\n     close(sms)\n     out\n}\n\nips_cur<-function(index_id,variables,args=NA){\n     sms<-odbcConnect('sms','nretail','nretail')\n     varos<-paste0(variables,collapse = \", \")\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_source WHERE status_id IN (6,7,8,9) AND index_id = \",index_id,\" AND \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_source wHERE status_id IN (6,7,8,9) AND index_id = \",index_id)\n     }\n     out<-sqlQuery(sms,linea)\n     close(sms)\n     out\n}\n\nipc<-function(index_id,variables,args=NA){\n     smsh<-odbcConnect('smsh','nretail','nretail')\n     varos<-paste0(variables,collapse = \", \")\n     per<-ult.periodo(index_id)\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_cell WHERE status_id IN (2) AND index_id = \",index_id, \" AND period_id = \",per,\" AND \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_cell wHERE status_id IN (2) AND index_id = \",index_id, \" AND period_id = \",per)\n     }\n     out<-sqlQuery(smsh,linea)\n     close(smsh)\n     out\n}\n\nipc_raw<-function(index_id,variables,args=NA){\n     smsh<-odbcConnect('smsh','nretail','nretail')\n     varos<-paste0(variables,collapse = \", \")\n     #per<-ult.periodo(index_id)\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_cell WHERE status_id IN (2) AND index_id = \",index_id, \" AND \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_cell wHERE status_id IN (2) AND index_id = \",index_id)\n     }\n     out<-sqlQuery(smsh,linea)\n     close(smsh)\n     out\n}\n\nips<-function(index_id,variables,args=NA){\n     smsh<-odbcConnect('smsh','nretail','nretail')\n     per<-ult.periodo(index_id)\n     varos<-paste0(variables,collapse = \", \")\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_source WHERE status_id IN (6,7,8,9) AND index_id = \",index_id,\" AND period_id = \",per,\" AND \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_source wHERE status_id IN (6,7,8,9) AND index_id = \",index_id,\" AND period_id = \",per)\n     }\n     out<-sqlQuery(smsh,linea)\n     close(smsh)\n     out\n}\n\nips_raw<-function(index_id,variables,args=NA){\n     smsh<-odbcConnect('smsh','nretail','nretail')\n     #per<-ult.periodo(index_id)\n     varos<-paste0(variables,collapse = \", \")\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_source WHERE status_id IN (6,7,8,9) AND index_id = \",index_id,\" AND \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_source wHERE status_id IN (6,7,8,9) AND index_id = \",index_id)\n     }\n     out<-sqlQuery(smsh,linea)\n     close(smsh)\n     out\n}\n\nscan_ips<-function(variables,args=NA){\n     smsh<-odbcConnect('scan','scanning','scanning')\n     index_id<-1\n     ind.periodos<-sqlQuery(smsh,\"SELECT DISTINCT period_id FROM index_period_source WHERE index_id=1\")\n     periodos<-as.integer(as.character(unique(ind.periodos$period_id)))\n     per<-max(periodos)\n     varos<-paste0(variables,collapse = \", \")\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_source WHERE status_id IN (6,7,8,9) AND index_id = \",index_id,\" AND period_id = \",per,\" AND \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM index_period_source wHERE status_id IN (6,7,8,9) AND index_id = \",index_id,\" AND period_id = \",per)\n     }\n     out<-sqlQuery(smsh,linea)\n     close(smsh)\n     out\n}\n\nscan_sm<-function(variables,args=NA){\n     smsh<-odbcConnect('scan','scanning','scanning')\n     index_id<-1\n     #ind.periodos<-sqlQuery(smsh,\"SELECT DISTINCT period_id FROM index_period_source WHERE index_id=1\")\n     #periodos<-as.integer(as.character(unique(ind.periodos$period_id)))\n     #per<-max(periodos)\n     varos<-paste0(variables,collapse = \", \")\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM source_master WHERE \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM source_master\")\n     }\n     out<-sqlQuery(smsh,linea)\n     close(smsh)\n     out\n}\n\nsm<-function(variables,args=NA){\n     sms<-odbcConnect('sms','nretail','nretail')\n     varos<-paste0(variables,collapse = \", \")\n     if (!is.na(args)) {\n          linea<-paste0(\"SELECT \",varos,\" FROM source_master WHERE \",args)\n     } else {\n          linea<-paste0(\"SELECT \",varos,\" FROM source_master\")\n     }\n     out<-sqlQuery(sms,linea)\n     close(sms)\n     out\n}\n",
    "created" : 1481157015746.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2906705178",
    "id" : "3D3CA927",
    "lastKnownWriteTime" : 1481054381,
    "last_content_update" : 1481054381,
    "path" : "~/Proyectos/leeSMS/R/extraeSMS.R",
    "project_path" : "R/extraeSMS.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}